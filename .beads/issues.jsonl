{"id":"geolog-1wv","title":"Confusing error message when referencing undefined theory","description":"When creating an instance with a non-existent theory (e.g., 'instance I : NonexistentTheory = {...}'), the error message says 'unknown sort: NonexistentTheory' instead of 'unknown theory: NonexistentTheory'. This is confusing because the user is trying to reference a theory, not a sort.\n\nExample:\n```\ninstance BadInstance : NonexistentTheory = { x : Sort; }\nError: Elaboration error: unknown sort: NonexistentTheory\n```\n\nExpected: 'Error: unknown theory: NonexistentTheory'\n\nLocation: src/elaborate.rs (type_expr_to_theory_name or instance elaboration)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-14T22:43:20.191143097Z","updated_at":"2025-12-14T22:43:20.191143097Z"}
{"id":"geolog-3pa","title":"Duplicate theory names silently overwrite","description":"Defining a theory with a name that already exists silently replaces the old theory without any warning or error.\n\nExample:\n```\ntheory T1 { X : Sort; }\ntheory T1 { Y : Sort; }  // Silently replaces the first T1\n```\n\nThis can lead to confusion and unintended behavior. The REPL should either:\n1. Reject duplicate names with an error\n2. Warn the user and ask for confirmation\n3. Use a versioning/shadowing approach with clear indication\n\nLocation: src/repl.rs (execute_geolog, theory registration)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-14T22:44:43.845301347Z","updated_at":"2025-12-14T22:44:43.845301347Z"}
{"id":"geolog-7cc","title":"Product sorts (record types) hidden in :inspect","description":"When inspecting a theory with product sorts (record types), they are counted in the sort count but not displayed in the output.\n\nExample:\n```\ntheory WithProduct {\n    X : Sort;\n    Y : Sort;\n    Pair : [fst : X, snd : Y] Sort;\n}\n\n:inspect WithProduct\nOutput shows: X : Sort; Y : Sort;  (only 2 of 3 sorts shown)\nExpected: Should also show Pair : [fst : X, snd : Y] Sort;\n```\n\nThe theory shows '2 sorts' in the count but Pair is being counted somewhere and not displayed.\n\nLocation: src/repl.rs (theory formatting) or src/pretty.rs","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-14T22:46:17.713086239Z","updated_at":"2025-12-14T22:46:17.713086239Z"}
{"id":"geolog-cbd","title":"Function signatures shown as '...' in theory inspection","description":"When using ':inspect TheoryName' to view a theory, function signatures are shown as '...' instead of their actual type signatures.\n\nExample:\n```\ntheory Graph {\n    V : Sort;\n    E : Sort;\n    src : E -\u003e V;\n    tgt : E -\u003e V;\n}\n\n:inspect Graph\nOutput shows: src : ...; tgt : ...;\nExpected: src : E -\u003e V; tgt : E -\u003e V;\n```\n\nLocation: src/repl.rs (format_theory_for_display or similar)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-14T22:43:46.702440405Z","updated_at":"2025-12-14T22:43:46.702440405Z"}
{"id":"geolog-crk","title":"Relations not counted in :list theories summary","description":"When listing theories with ':list theories', the summary shows counts for sorts, functions, and axioms, but not relations.\n\nExample:\n```\ntheory WithRelation {\n    X : Sort;\n    R : [x : X, y : X] Relation;\n}\n\n:list theories\nOutput: WithRelation (1 sorts, 0 functions, 0 axioms)\nExpected: WithRelation (1 sorts, 0 functions, 1 relations, 0 axioms)\n```\n\nThis is a minor issue but makes relations feel like second-class citizens in the type system.\n\nLocation: src/repl.rs (list_theories or TheoryInfo)","status":"open","priority":3,"issue_type":"bug","created_at":"2025-12-14T22:45:58.654532341Z","updated_at":"2025-12-14T22:45:58.654532341Z"}
{"id":"geolog-d0b","title":"Parameterized theories don't show parameters in :inspect","description":"When inspecting a parameterized theory, the parameter list is not shown in the output.\n\nExample:\n```\ntheory (N : PetriNet instance) Marking {\n    token : Sort;\n}\n\n:inspect Marking\nOutput shows: theory Marking { token : Sort; }\nExpected: theory (N : PetriNet instance) Marking { token : Sort; }\n```\n\nThe parameter information is lost in the display, making it unclear that this is a parameterized theory.\n\nLocation: src/repl.rs (theory formatting)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-14T22:44:05.212783874Z","updated_at":"2025-12-14T22:44:05.212783874Z"}
{"id":"geolog-q2x","title":"Axioms hidden in :inspect output","description":"When inspecting a theory with axioms, the axiom definitions are not shown - only a comment indicating how many axioms exist.\n\nExample:\n```\ntheory Iso {\n    X : Sort;\n    Y : Sort;\n    fwd : X -\u003e Y;\n    bwd : Y -\u003e X;\n    fb : forall x : X. |- x fwd bwd = x;\n}\n\n:inspect Iso\nOutput shows: // 1 axiom(s)\nExpected: Show the actual axiom: fb : forall x : X. |- x fwd bwd = x;\n```\n\nUsers need to see the actual axiom definitions to understand the theory's constraints.\n\nLocation: src/repl.rs (theory formatting) or src/pretty.rs","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-14T22:44:24.401432952Z","updated_at":"2025-12-14T22:44:24.401432952Z"}
{"id":"geolog-w7a","title":"Duplicate instance names silently overwrite","description":"Defining an instance with a name that already exists silently replaces the old instance without any warning or error.\n\nExample:\n```\ntheory T { X : Sort; }\ninstance I1 : T = { a : X; }\ninstance I1 : T = { b : X; }  // Silently replaces the first I1\n```\n\nSame issue as with duplicate theory names - users should be warned about overwrites.\n\nLocation: src/repl.rs (execute_geolog, instance registration)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-14T22:44:58.373441794Z","updated_at":"2025-12-14T22:44:58.373441794Z"}
{"id":"geolog-xte","title":"Parse errors are cryptic and show internal token names","description":"When a parse error occurs, the error message shows internal token representations that are not user-friendly.\n\nExample:\n```\ntheory BadSyntax {\n    X : Sort\n    Y : Sort;  // Missing semicolon after X\n}\n\nError: Parser errors: [Simple { span: 38..39, reason: Unexpected, expected: {Some(Sort), Some(LParen), Some(LBracket), Some(Instance), Some(Semicolon), Some(Slash), Some(Arrow)}, found: Some(Colon), label: None }]\n```\n\nExpected: 'Error: Expected semicolon after sort declaration on line 2, found \":\"'\n\nThe error should be human-readable and point to the specific location with line/column numbers.\n\nLocation: src/parser.rs or src/lexer.rs (error reporting using chumsky's error handling)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-14T22:45:19.886462562Z","updated_at":"2025-12-14T22:45:19.886462562Z"}
{"id":"geolog-xw5","title":"Relations completely omitted from :inspect output","description":"When inspecting a theory that includes relations, the relations are completely omitted from the output.\n\nExample:\n```\ntheory WithRelation {\n    X : Sort;\n    R : [x : X, y : X] Relation;\n}\n\n:inspect WithRelation\nOutput shows only: X : Sort;\nExpected: Should also show R : [x : X, y : X] Relation;\n```\n\nRelations are a first-class part of the theory signature but are invisible in the REPL output.\n\nLocation: src/repl.rs (theory formatting) or src/pretty.rs","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-14T22:45:38.560834631Z","updated_at":"2025-12-14T22:45:38.560834631Z"}
